import{r as u,R as L,j as v}from"./index-TmOf46e3.js";import{c as S}from"./helper-H2rpVDS9.js";var R=new Map,h=new WeakMap,j=0,M=void 0;function _(e){return e?(h.has(e)||(j+=1,h.set(e,j.toString())),h.get(e)):"0"}function A(e){return Object.keys(e).sort().filter(t=>e[t]!==void 0).map(t=>`${t}_${t==="root"?_(e.root):e[t]}`).toString()}function N(e){let t=A(e),r=R.get(t);if(!r){const a=new Map;let c;const n=new IntersectionObserver(i=>{i.forEach(s=>{var o;const g=s.isIntersecting&&c.some(f=>s.intersectionRatio>=f);e.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=g),(o=a.get(s.target))==null||o.forEach(f=>{f(g,s)})})},e);c=n.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:n,elements:a},R.set(t,r)}return r}function O(e,t,r={},a=M){if(typeof window.IntersectionObserver>"u"&&a!==void 0){const o=e.getBoundingClientRect();return t(a,{isIntersecting:a,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const{id:c,observer:n,elements:i}=N(r);let s=i.get(e)||[];return i.has(e)||i.set(e,s),s.push(t),n.observe(e),function(){s.splice(s.indexOf(t),1),s.length===0&&(i.delete(e),n.unobserve(e)),i.size===0&&(n.disconnect(),R.delete(c))}}function z({threshold:e,delay:t,trackVisibility:r,rootMargin:a,root:c,triggerOnce:n,skip:i,initialInView:s,fallbackInView:o,onChange:g}={}){var f;const[b,V]=u.useState(null),w=u.useRef(),[p,m]=u.useState({inView:!!s,entry:void 0});w.current=g,u.useEffect(()=>{if(i||!b)return;let l;return l=O(b,(I,y)=>{m({inView:I,entry:y}),w.current&&w.current(I,y),y.isIntersecting&&n&&l&&(l(),l=void 0)},{root:c,rootMargin:a,threshold:e,trackVisibility:r,delay:t},o),()=>{l&&l()}},[Array.isArray(e)?e.toString():e,b,c,a,n,i,r,o,t]);const x=(f=p.entry)==null?void 0:f.target,E=u.useRef();!b&&x&&!n&&!i&&E.current!==x&&(E.current=x,m({inView:!!s,entry:void 0}));const d=[V,p.inView,p.entry];return d.ref=d[0],d.inView=d[1],d.entry=d[2],d}const $=e=>{const{placeholder:t=null,offset:r=0,...a}=e,{ref:c,inView:n}=z({triggerOnce:!0,rootMargin:`${r||0}px`,...a}),[i,s]=L.useState(!1);return u.useEffect(()=>{n&&s(!0)},[n]),v.jsxs(v.Fragment,{children:[!i&&v.jsx("span",{"data-hide-print":!0,"data-testid":"lazyload-indicator",ref:c}),n?e.children:t]})},B=()=>{const e=u.useRef(!1);return u.useEffect(()=>()=>{e.current=!0},[]),e},C=e=>{const{className:t,...r}=e;return v.jsx("hr",{className:S("my-4 h-[0.5px] border-0 bg-always-black !bg-opacity-30 dark:bg-always-white",t),...r})},F=e=>{const{className:t,...r}=e;return v.jsx("span",{className:S("mx-4 inline-block h-full w-[0.5px] select-none bg-always-black !bg-opacity-30 text-transparent dark:bg-always-white",t),...r,children:"w"})};export{C as D,$ as L,z as a,F as b,B as u};
